{
    "variables": {
      "aws_region": "us-east-1",
      "aws_vpc": "vpc-07936173d92ae10ab",
      "aws_subnet": "subnet-0ec5415d63ebab836",
      "is_public": "true"
    },
    "builders": [{
      "type": "amazon-ebs",
      "access_key": "{{user `aws_access_key`}}",
      "secret_key": "{{user `aws_secret_key`}}",
      "region": "{{user `aws_region`}}",
      "vpc_id": "{{user `aws_vpc`}}",
      "subnet_id": "{{user `aws_subnet`}}",
      "iam_instance_profile": "github-role",
      "source_ami": "ami-02d7fd1c2af6eead0",
      "instance_type": "t3.large",
      "ssh_username": "ec2-user",
      "associate_public_ip_address": "{{user `is_public`}}",
      "ami_name": "ga-runner-pr {{ isotime `2006-01-02-03-04` }}",
      "tags": {
        "Name": "GitHub self-hosted runner for prs",
        "OwnedBy": "Sivakumar Ramani",
        "DataClassification": "Internal",
        "Environment": "DEV"
      }
    }],
    "provisioners": [
 
        {
        "type": "ansible",
        "extra_arguments": [
            "--extra-vars", "db_root_password={{ user `mysql_password` }} github_token={{ user `github_token` }}"
        ],
        "playbook_file": "../ansible/github-actions/pr-runner/main.yaml"
        }
    ]
  }
  